% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hazardSE_bootstrap.R
\name{bshr}
\alias{bshr}
\title{Bootstrap Hazard Ratio Curve}
\usage{
bshr(data, contr, var, n_boot = 1000, step = 1, eps = 1e-09)
}
\arguments{
\item{data}{A \code{data.frame} containing survival data. Must include columns:
\itemize{
\item \code{age}: time of event or censoring
\item \code{dead}: event indicator (1 = event occurred, 0 = censored)
\item \code{group}: group identifier (factor or character)
}}

\item{contr}{Character. Name of the control group in \code{group}.}

\item{var}{Character. Name of the treatment group in \code{group}.}

\item{n_boot}{Integer. Number of bootstrap resamples (default 1000).}

\item{step}{Numeric. Spacing of the common time grid (default 1).}

\item{eps}{Numeric. Small offset to avoid \code{log(0)} (default 1e-9).}
}
\value{
A \code{data.frame} with columns:
\itemize{
\item \code{time}: grid of time points
\item \code{loghr}: pointwise mean of log hazard ratio across bootstrap samples
\item \code{low}: lower 95\% confidence bound of log HR
\item \code{up}: upper 95\% confidence bound of log HR
\item \code{name}: treatment group name
}
}
\description{
Computes a bootstrap estimate of the hazard ratio (HR) curve between a treatment
group and a control group over a common time grid. The function returns pointwise
log(HR) estimates and 95\% bootstrap confidence intervals.
}
\details{
The function first constructs a global time grid based on the overlap of event times
between treatment and control groups. Then, it performs bootstrap resampling of
subjects to compute hazard estimates via \code{safe_bshazard()} and calculates log(HR)
for each bootstrap sample on the same time grid. Finally, it summarizes the results
by computing pointwise mean and 95\% bootstrap confidence intervals.
}
\examples{
\dontrun{
df <- data.frame(
  age = c(5, 10, 7, 12),
  dead = c(1, 0, 1, 0),
  group = c("control", "control", "treatment", "treatment")
)
boot_hr <- bshr(df, contr = "control", var = "treatment", n_boot = 100)
head(boot_hr)
}
}
\keyword{bootstrap}
\keyword{hazard}
\keyword{ratio}
\keyword{survival}
